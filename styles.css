/* MOVI Client Form â€” dark theme, mobile-first */
:root{
  --bg:#0d1117;
  --panel:#111827;
  --ink:#e5e7eb;
  --muted:#9ca3af;
  --brand:#7c3aed; /* violet */
  --brand-2:#6d28d9;
  --border:#1f2937;
  --success:#22c55e;
  --shadow:0 12px 30px rgba(0,0,0,.35);
  --radius:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  -webkit-font-smoothing:antialiased;
  -webkit-tap-highlight-color:transparent;
}
.app{max-width:520px;margin:0 auto;min-height:100svh;display:flex;flex-direction:column;padding-bottom:env(safe-area-inset-bottom)}

.topbar{
  position:sticky;top:0;z-index:10;
  display:flex;align-items:center;gap:10px;
  padding:14px 14px 10px;
  background:color-mix(in oklab, var(--bg) 88%, transparent);
  backdrop-filter:blur(10px) saturate(160%);
  border-bottom:1px solid var(--border);
}
.brand{font-weight:900;letter-spacing:.4px}
.title{font-weight:800;opacity:.92}
.spacer{flex:1}

.content{flex:1;padding:14px}
.form{display:flex;flex-direction:column;gap:12px}
.group{display:flex;flex-direction:column;gap:8px}
label{font-size:13px;color:var(--muted)}
input,textarea,select{
  width:100%;padding:13px 12px;font-size:16px;border-radius:12px;
  border:1px solid var(--border);background:var(--panel);color:var(--ink);
  outline:none;transition:border .2s ease, box-shadow .2s ease;
}
input:focus,textarea:focus,select:focus{border-color:color-mix(in oklab, var(--brand) 50%, var(--border));box-shadow:0 0 0 3px color-mix(in oklab, var(--brand) 18%, transparent)}
textarea{resize:vertical;min-height:84px}

.grid{display:flex;flex-direction:column;gap:12px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px}

.switch{position:relative;width:52px;height:30px}
.switch input{display:none}
.switch .slider{
  position:absolute;inset:0;border-radius:999px;background:#222a39;border:1px solid var(--border);
  transition:background .2s ease;
}
.switch .slider::after{
  content:'';position:absolute;top:3px;left:4px;width:24px;height:24px;border-radius:999px;background:#fff;
  transition:transform .2s ease;box-shadow:var(--shadow);
}
.switch input:checked + .slider{background:color-mix(in oklab, var(--brand) 36%, #222a39)}
.switch input:checked + .slider::after{transform:translateX(20px)}
.switch-label{align-self:center;color:var(--ink)}

.chips{display:flex;gap:8px;margin-top:4px}
.chip{
  padding:10px 14px;border:1px solid var(--border);border-radius:999px;background:var(--panel);
  color:var(--ink);font-weight:700;cursor:pointer;box-shadow:var(--shadow);
}
.chip.active{background:var(--brand);border-color:transparent;color:#fff}

.btn-wrap{margin-top:6px}

/* Animated truck order button */
.order-btn{
  position:relative;display:block;width:100%;height:56px;border-radius:999px;border:0;cursor:pointer;
  background:linear-gradient(180deg, color-mix(in oklab, var(--brand) 92%, black), var(--brand-2));
  color:#fff;font-weight:800;font-size:16px;letter-spacing:.2px;
  box-shadow:0 12px 26px rgba(0,0,0,.28);
  overflow:hidden;
}
.order-btn:disabled{opacity:.8;cursor:default}
.order-btn .label{position:relative;z-index:2;transition:opacity .2s ease, transform .2s ease}
.order-btn.loading .label{opacity:0;transform:translateY(-8px)}
.order-btn .check{
  position:absolute;inset:0;display:grid;place-items:center;opacity:0;z-index:2;
  font-size:20px;color:var(--success);font-weight:900;transition:opacity .2s ease;
}
.order-btn.done .check{opacity:1}

/* Road */
.order-btn .road{
  position:absolute;inset:0 14px;top:26px;height:4px;border-radius:999px;background:rgba(255,255,255,.08);
  overflow:hidden;opacity:0;transition:opacity .2s ease;
}
.order-btn.loading .road{opacity:1}
.order-btn .road::after{
  content:'';position:absolute;left:-40px;top:0;right:0;height:4px;
  background:repeating-linear-gradient(90deg,#fff 0 10px, transparent 10px 20px);
  opacity:.28;animation:dash 450ms linear infinite;
}
@keyframes dash{to{transform:translateX(40px)}}

/* Truck */
.truck{position:absolute;left:-72px;top:50%;transform:translateY(-50%);width:64px;height:28px;z-index:1}
.body{position:absolute;left:16px;top:2px;width:34px;height:20px;background:#e5e7eb;border-radius:4px}
.cab{position:absolute;left:0;top:4px;width:20px;height:18px;background:#ef4444;border-radius:4px 4px 2px 6px}
.wheel{position:absolute;bottom:-2px;width:12px;height:12px;background:#111;border:2px solid #333;border-radius:999px;box-shadow:inset 0 0 0 2px #000}
.w1{left:16px}.w2{right:2px}
.light{position:absolute;top:9px;width:14px;height:8px;background:radial-gradient(closest-side, rgba(255,240,150,.9), rgba(255,240,150,0));filter:blur(1px)}
.l1{left:-10px;transform:rotate(180deg)} .l2{right:-10px}

/* Drive animation */
@keyframes drive{
  0%{left:-72px}
  100%{left:calc(100% + 40px)}
}
.order-btn.loading .truck{animation:drive 1800ms cubic-bezier(.2,.8,.2,1) both}
@media (prefers-reduced-motion: reduce){
  .order-btn.loading .truck{animation-duration:1ms}
  .order-btn .road::after{animation:none}
}

/* Panels feel */
input, textarea, .order-btn{box-shadow:var(--shadow)}
